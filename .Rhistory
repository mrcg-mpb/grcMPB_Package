# use this code to input % in cirlces on the map
ggplot() +
geom_sf(data = GMB, fill = "white", color = "#023020", linewidth = 0.4) +
geom_sf(data = Sample_data_sf, aes(size = 50, color = "red")) +
geom_label_repel(
data = Sample_data,
aes(
label = Location,
x = Long,
y = Lat,
fontface = "bold"
),
color = "black",
size = 3, # size of the labels
box.padding = unit(1.3, "lines"),
segment.color = "#132B43",
angle = 45,
max.overlaps = 100
) +
annotate("text",
x = Sample_data$Long,
y = Sample_data$Lat,
label = paste0(Sample_data$Percentages, "%"),
color = "white",
size = 3.1,
fontface = "bold"
) +
theme_void() +
guides(size = "none", colour = "none") +
ggtitle("Percentage Maps") +
theme(
plot.title = element_text(hjust = 0.2, size = 12),
) +
scale_size_continuous(range = c(1, 12)) # increase cicle size
# Pie chart map
# use this code to input draw pie charts on th map based of the male and female counts in Sample_data
ggplot() +
geom_sf(data = GMB, fill = "white", color = "#023020", linewidth = 0.7) +
geom_label_repel(
data = Sample_data,
aes(
label = Location,
x = Long,
y = Lat,
fontface = "bold"
),
color = "black",
size = 3,
box.padding = unit(1.3, "lines"),
segment.color = "#132B43",
angle = 45,
max.overlaps = 100
)  +
geom_scatterpie(
data = Sample_data,
aes(x = Long, y = Lat, r = 0.04), # use r to increase the size of the piechart
cols = colnames(Sample_data %>% dplyr::select(Male, Female)),
color = NA
) +
scale_fill_manual(values = c("#4363d8", "#f58231")) +
guides(fill = guide_legend(title = "Gender")) +
ggtitle("Pie Chart Map") +
theme_void() +
theme(
plot.title = element_text(hjust = 0.1, size = 20),
legend.position = "bottom",
legend.title = element_text(size = 12),
legend.text = element_text(size = 12)
)
# Percentage maps
# use this code to input % in cirlces on the map
ggplot() +
geom_sf(data = GMB, fill = "white", color = "#023020", linewidth = 0.5) +
geom_sf(data = Sample_data_sf, aes(size = 50, color = "red")) +
geom_label_repel(
data = Sample_data,
aes(
label = Location,
x = Long,
y = Lat,
fontface = "bold"
),
color = "black",
size = 3, # size of the labels
box.padding = unit(1.3, "lines"),
segment.color = "#132B43",
angle = 45,
max.overlaps = 100
) +
annotate("text",
x = Sample_data$Long,
y = Sample_data$Lat,
label = paste0(Sample_data$Percentages, "%"),
color = "white",
size = 3.1,
fontface = "bold"
) +
theme_void() +
guides(size = "none", colour = "none") +
ggtitle("Percentage Maps") +
theme(
plot.title = element_text(hjust = 0.2, size = 12),
) +
scale_size_continuous(range = c(1, 12)) # increase cicle size
devtools::load_all(".")
devtools::load_all(".")
library(grcMPB)
grc_data <-
combine_grc_sheets(
input_folder = system.file("extdata", "example_GRC_sheets", package = "grcMPB"),
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
View(grc_data)
grc_data <-
gene_classifier(
df = grc_data,
drug_column = NULL,
save_output = TRUE
)
grc_data <-
combine_grc_sheets(
input_folder = system.file("extdata", "example_GRC_sheets", package = "grcMPB"),
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
devtools::load_all(".")
View(grc_data)
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
View(grc_data)
devtools::load_all(".")
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
devtools::load_all(".")
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
grc_data$PvDHFR
devtools::load_all(".")
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
devtools::load_all(".")
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
devtools::load_all(".")
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
devtools::load_all(".")
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
View(grc_data)
devtools::load_all(".")
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
devtools::load_all(".")
devtools::load_all(".")
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
devtools::load_all(".")
devtools::load_all(".")
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
devtools::load_all(".")
devtools::load_all(".")
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
devtools::load_all(".")
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
View(grc_data)
devtools::load_all(".")
devtools::load_all(".")
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
devtools::load_all(".")
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
View(grc_data)
all(is.na(grc_data$PvMDR1))
devtools::load_all(".")
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
View(grc_data)
devtools::load_all(".")
library(grcMPB)
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
devtools::load_all(".")
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
class(grc_data)
devtools::load_all(".")
devtools::load_all(".")
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
class(grc_data)
View(grc_data)
devtools::load_all(".")
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
devtools::load_all(".")
devtools::load_all(".")
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
View(grc_data)
devtools::load_all(".")
library(grcMPB)
grc_data <-
gene_classifier(
df = grc_data,
drug_column = NULL,
save_output = TRUE
)
library(sf)
library(readxl)
# import your geographical data for mapping
gmb_shpfile <- st_read(system.file("extdata", "geoBoundaries-GMB-ADM3_simplified.shp", package = "grcMPB"))
longitude_latitude <- read_excel(system.file("extdata", "LongLat_data.xlsx", package = "grcMPB"))
geo_data <-
mapping_data(
shapefile = gmb_shpfile,
long_lat_data = longitude_latitude,
location_col = "Location",
long_col = "long",
lat_col = "lat"
)
## You can create a single or range of years to filter by before generating the plots.
periods <-
list(
list(name = "2021", type = "year", start = "2021"),
list(name = "2017-19", type = "period", start = "2017", end = "2019")
)
sample_count_map(
df = grc_data,
map_data = geo_data,
time = NULL,
circle_num_size = 3.1,
label_size = 2.5,
label_repel = 1.3,
scale_circle_size = 11,
save_output = TRUE
)
drug_distribution(
df = grc_data,
drug_col = "Chloroquine",
save_output = TRUE,
time = NULL,
colors = c(
"resistant" = "#525CEB",
"mixed_resistant" = "#808000",
"sensitive" = "#800000"
)
)
devtools::load_all(".")
drug_distribution(
df = grc_data,
drug_col = "Chloroquine",
save_output = TRUE,
time = NULL,
colors = c(
"resistant" = "#525CEB",
"mixed_resistant" = "#808000",
"sensitive" = "#800000"
)
)
devtools::load_all(".")
devtools::load_all(".")
drug_distribution(
df = grc_data,
drug_col = "Chloroquine",
save_output = TRUE,
time = NULL
)
devtools::load_all(".")
drug_distribution(
df = grc_data,
drug_col = "Chloroquine",
save_output = TRUE,
time = NULL
)
grc_data <-
gene_classifier(
df = grc_data,
drug_column = "Chloroquine",
save_output = TRUE
)
drug_distribution(
df = grc_data,
drug_col = "Chloroquine",
save_output = TRUE,
time = NULL
)
drug_distribution_pm(
df = grc_data,
drug_col = "Chloroquine",
save_output = FALSE,
time = NULL,
map_data = geo_data,
label_size = 2.5,
label_repel = 1.3,
circle_num_size = 3.1,
scale_circle_size = 10
)
grc_data <-
combine_grc_sheets(
input_folder = system.file("extdata", "example_GRC_sheets", package = "grcMPB"),
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
devtools::load_all(".")
grc_data <-
combine_grc_sheets(
input_folder = system.file("extdata", "example_GRC_sheets", package = "grcMPB"),
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
grc_data <-
combine_grc_sheets(
input_folder = "C:/Users/bngwa/Documents/Brandon/GDA_Markdown/All_GRC_Reads_Gambia",
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
grc_data <-
combine_grc_sheets(
input_folder = system.file("extdata", "example_GRC_sheets", package = "grcMPB"),
country = "Gambia",
save_output = TRUE,
output_dir = "C:/Users/bngwa/Videos"
)
View(grc_data)
grc_data <-
gene_classifier(
df = grc_data,
drug_column = NULL,
save_output = TRUE
)
grc_data2 <-
gene_classifier(
df = grc_data,
drug_column = "Chloroquine",
save_output = TRUE
)
drug_distribution(
df = grc_data,
drug_col = "Chloroquine",
save_output = TRUE,
time = NULL
)
drug_distribution(
df = grc_data2,
drug_col = "Chloroquine",
save_output = TRUE,
time = NULL
)
drug_distribution_pm(
df = grc_data2,
drug_col = "Chloroquine",
save_output = FALSE,
time = NULL,
map_data = geo_data,
label_size = 2.5,
label_repel = 1.3,
circle_num_size = 3.1,
scale_circle_size = 10
)
drug_distribution_pm(
df = grc_data,
drug_col = "Chloroquine",
save_output = FALSE,
time = NULL,
map_data = geo_data,
label_size = 2.5,
label_repel = 1.3,
circle_num_size = 3.1,
scale_circle_size = 10
)
devtools::load_all(".")
drug_distribution_pm(
df = grc_data,
drug_col = "Chloroquine",
save_output = FALSE,
time = NULL,
map_data = geo_data,
label_size = 2.5,
label_repel = 1.3,
circle_num_size = 3.1,
scale_circle_size = 10
)
39.7+7.6+26+21.4+5.3
drug_distribution_pm(
df = grc_data2,
drug_col = "Chloroquine",
save_output = FALSE,
time = NULL,
map_data = geo_data,
label_size = 2.5,
label_repel = 1.3,
circle_num_size = 3.1,
scale_circle_size = 10
)
